# 12장 - 함수(3)

**본 내용은 모던 자바스크립트 Deep Dive - 자바스크립트의 기본 개념과 동작 원리를 토대로 작성하였습니다.**



## 12.5 함수 호출

*  함수를 가리키는 식별자와 소괄호 안에 인수를 입력하여 호출
   *  인수는 쉼표로 구분




### 12.5.1 매개변수와 인수

* 매개변수 : 함수를 정의할 때 함수 외부에서 내부로 전달할 변수
  * 함수 내부에서 변수 취급
  * 초기화, 할당됨
* 인수 : 함수를 호출할 때 함수 내부로 전달할 **표현식**
* 자바스크립트에서 매개변수의 개수와 인수의 개수가 맞는지는 확인하지 않음
  * 인수를 적게 넘겨, 매개변수가 할당되지 않으면 undefined
  * 초과된 인수는 무시
  * 이로 인해, 오류를 일으킬 수 있음

```JavaScript
// 함수 정의
// petName : 매개변수(parameter)
const callMyPet = (petName) => {
  console.log(`${} 이리와!`);
}

// 함수 호출
callMyPet('siru'); // siru 이리와!
```



### 12.5.2 인수 확인

#### 타입 체크

* 자바스크립트는 동적 언어이므로 인수를 넘길 때 타입 체크를 하지 않음
  * 오류를 일으킬 가능성이 높음
* typeof 키워드를 사용하여 적절한 타입의 인수만 받도록 할 수 있음
* **타입스크립트를 사용하여 부적절한 호출 방지**
  * 런타임 시점의 타입 오류를 방지

```JavaScript
// typeof를 사용한 타입체크
const callMyPet = (petName) => {
  if (typeof petName !== 'string') {
    throw new TypeError('문자열만을 입력하시오.');
  }
  console.log(`${} 이리와~`);
}

// 타입 스크립트
const callMyPet = (petName: string) => {
  console.log(`${} 이리와~`);
}
```





#### 매개변수와 인수의 수 맞추기

* 상기, 자바스크립트는 인수가 매개변수의 수만큼 전달되는지 확인하지 않으므로 오류의 가능성이 있음
* 단축 평가(||)를 사용하여 매개변수에 기본값 할당
* ES6에 도입된 매개변수 기본값 지정

```JavaScript
// 단축평가를 활용한 기본값 할당
const callCats = (cat1, cat2) => {
  // 매개변수가 전달되지 않으면, 단축평가로 인해 빈 문자열이 기본값으로 들어가게 됨
  cat1 = cat1 || '';
  cat2 = cat2 || '';
  console.log(`${cat1}, ${cat2} 이리온!`);
}

// ES6 매개변수 기본값 지정
const callCats = (cat1 = '', cat2 = '') => {
  console.log(`${cat1}, ${cat2} 이리온!`);
}
```



### 12.5.3 매개 변수의 최대 개수

* 자바스크립트는 명시적으로 매개변수의 최대 개수를 제한하고 있지 않음
* 이상적인 매개변수의 개수는 0개
  * 즉, 적을 수록 좋다!
* **이상적인 함수는 한 가지 일만 하며, 가급적 작게 만들어야 함**
* 함수를 정의할 때 매개변수가 길어진다면, **매개변수들을 하나의 객체로 묶으면 좋다.**



### 12.5.4 반환문

* return 키워드 뒤의 표현식을 함수 실행 결과로 외부로 반환할 수 있음
* **함수 호출은 표현식**
  * return으로 넘기는 표현식이 함수 호출 표현식의 평가 결과가 됨
* 반환문이 실행되면 함수 실행을 중단하고 빠져나가게 됨
* 표현식을 명시적으로 지정하지 않으면 undefined가 됨
* 전역에서 사용하면 문법에러가 발생
  * 반면, Node.js의 경우는 독립적인 파일 스코프를 가지므로 에러가 발생하지 않음

```JavaScript
const callMyPet = (petName) => {
  // 문자열을 함수 결과로 return
  return `${petName} 이리와라~`;
}

// 함수 호출 표현식의 평가 결과를 cosnole.log의 인수로 넘겨 출력
console.log(callMyPet('siru')); // siru 이리와라~
```



## 12.6 참조에 의한 전달과 외부 상태의 변경

* 매개변수를 원시값을 전달 받으면
  * 값에 의한 호출
  * 값 자체가 복사되어 매개변수로 전달 됨
  * 원본이 훼손되지 않음
* 매개변수를 참조값을 전달 받으면
  * 참조에 의한 호출
  * 참조 값이 복사되어 매개변수로 전달 됨
  * **원본이 훼손 됨**
* 참조에 의한 호출처럼 외부 상태를 변경하면 상태 변화를 추적하기 어려워짐
  * 코드 복잡성 증가, 가독성 하락
* 객체를 불변 객체로 만들어 사용하기
  * 복사본을 새롭게 생성
  * 방어적 복사
  * 깊은 복사