# 25장. 클래스(6)

### 25.8.6 상송 클래스의 인스턴스 생성 과정

#### 1. 서브클래스의 super 호출

* 자바스크립트 엔진은 수퍼클래스와 서브클래스를 구분하기 위해 내부슬롯 [[ConstructorKind]]을 가짐
  * 다른 클래스를 상속 받지 않는 클래스는 'base'가 설정
  * 다른 클래스를 상속 받는 클래스는 'derived'로 설정
  * 이를 통해 수퍼클래스와 서브클래스 동작 구분
* 서브클래스는 직접 인스턴스를 생성하지 않고 수퍼클래스에게 인스턴스 생성을 위임
  * 반디스 서브클래스의 constructor에서 super를 호출해야 하는 이유



#### 2. 수퍼클래스의 인스턴스 생성과 this 바인딩

* 수퍼클래스의 constructor 내부가 실행되기 전에 빈 객체 생성
* 인스턴스는 수퍼클래스가 생성한 것이나, new.target은 서브클래스를 가리킴
  * 즉, 인스턴스는 new.target이 가리키는 서브클래스가 생성한 것으로 처리 됨



#### 3. 수퍼클래스의 인스턴스 초기화

* 수퍼클래스의 constructor가 실행되어 this에 바인딩된 인스턴스 초기화



#### 4. 서브클래스 constructor로의 복귀와 this 바인딩

* super 호출 종료 후 제어 흐름이 서브클래스의 constructor로 돌아옴
  * suepr가 반환한 인스턴스가 this에 바인딩



#### 5. 서브클래스의 인스턴스 초기화

* 서브클래스의 constructor에 내부대로 인스턴스 초기화 실행



#### 6. 인스턴스 반환

* 모든 처리가 끝나면 인스턴스가 바인딩된 this가 암묵적으로 반환



### 25.8.7 표준 빌트인 생성자 함수 확장

* extends 키워드는 [[Construct]] 내부 메서드를 갖는 함수 객체로 평가되는 모든 표현식을 사용 가능
  * String, Number, Array와 같은 표준 빌트인 객체들도 가능
* 표준 빌트인 객체들을 확장하여 메서드 정의 가능
