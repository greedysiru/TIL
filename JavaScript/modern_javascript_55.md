# 25장. 클래스(3)

## 25.6 클래스의 인스턴스 생성 과정

* new 연산자와 함께 클래스 호출 시 생성자 함수와 마찬가지로 클래스의 내부 메서드 [[Construct]]가 호출
  * 클래스는 new 연산자 없이 호출할 수 있음



### 1. 인스턴스 생성과 this 바인딩

* 암묵적으로 빈 객체 생성
  * 클래스가 생성한 인스턴스
* 클래스가 생성한 인스턴스의 프로토타입으로 prototype 프로퍼티가 가리키는 객체가 설정
* 인스턴스는 this에 바인딩
  * constructor 내부의 this는 클래스가 생성한 인스턴스를 가리킴



### 2. 인스턴스 초기화

* constructor내부 코드가 실행
  * this에 바인딩되어 있는 인스턴스를 초기화
  * 프로퍼티 추가
  * constructor가 인수로 전달받은 초기값으로 인스턴스의 프로퍼티 값을 초기화



### 3. 인스턴스 반환



## 25.7 프로퍼티

### 25.7.1 인스턴스 프로퍼티

* constructor 내부에서 정의



### 25.7.2 접근자 프로퍼티

* 자체적으로는 값을 갖지 않고 다른 데이터 프로퍼티 값을 읽거나 저장할 때 사용하는 접근자 함수로 구성된 프로퍼티
  * getter 함수
  * setter 함수



### 25.7.3 클래스 필드 정의 제안

* 클래스 필드: 클래스 기반 객체지향 언어에서 클래스가 생성할 인스턴스의 프로퍼티를 가리키는 용어
  * cf) 자바스크립트에서 클래스의 인스턴스 프로퍼티를 선언하려면 this를 사용하여 참조해야 함
* 자바스크립트의 클래스 몸체에는 메서드만 선언 가능
  * 최신 브라우저에서는 클래스 필드 선언 가능
  * 정식 표준 사양 승급이 확실시 됨
* 클래스 몸체에서 클래스 필드를 정의하는 경우, this를 사용하면 안 됨
* 클래스 필드 참조시 this를 반드시 사용
* 외부 값을 사용하여 클래스 필드를 초기화하기 위해서는 기존의 인스턴스 프로퍼티 선언 방식대로 constructor 안에 초기화해야 함
* 클래스 필드에 함수 할당 시, 인스턴스 메서드가 됨

```JavaScript
// 기존 constructor 인스턴스 프로퍼티 선언 방식
class Cat {
  constructor() {
    this.name = 'siru';
  }
}

// 클래스 필드 선언
class Cat {
  name = 'siru';
}
```



### 25.7.4 private 필드 정의 제안

* 자바스크립트는 캡슐화를 완전하게 지원하지 않음
* 인스턴스 프로퍼티는 기본적으로 public
* private 필드를 정의할 수 있는 새로운 표준 사양 제안
  * 클래스 내부에서만 참조 가능
  * 접근자 프로퍼티를 통해서만 외부에서 제한적 접근 가능

```JavaScript
class Cat {
  #name = 'siru';
}
```



### 25.7.5 static 필드 정의 제안

* 정적 메서드 정의는 가능하나, 정적 필드를 정의하기는 불가능 했음
* 새로운 표준 사양으로 static 필드 정의 제안되어 옴

```JavaScript
class Cat {
  static name = 'siru';
}
```

